---
import type { Book } from "@data/api";
import { Image } from "astro:assets";
const { books } = Astro.props as { books: Book[] };
---
  <div class="books">
 {
                books.map((book)=>(
                        <div class="book">
                                <div class="image">
                                        {
                                                book.files.map((file)=>(
                                                        file.type === "image" ? <Image src={file.url} alt={book.title} width=100 height=100 /> : null
                                                ))
                                        }
                                </div>
        
                                <div class="info">
                                  <a href={`/book/${book.slug}`}>
                                    <h3>{book.title}</h3>
                                  </a>
                                <p>
                                        Lorem, ipsum dolor sit amet consectetur adipisicing elit. Magni facilis expedita quos quaerat nihil perferendis, similique, commodi inventore rerum voluptates ullam neque libero quidem saepe eaque aliquid harum aut sunt.
                                </p>
                                </div>
                        </div>
                ))
        }
</div>

<style>
          .books {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1rem;
    padding: 1rem;

    .book {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        padding: 1rem;
        
        .image {
          aspect-ratio: 1/2;
          width: 100%;
          height: 20rem;
          overflow: hidden;
          
          img{
                width: 100%;
                height: 100%;
                object-fit: contain;
                  
          }
        }
        
        .info {
          h2 {
                font-weight: bold;
            margin-bottom: 0.5rem;
          }
        }
            
    }
  }

  .image {
    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  }
</style>